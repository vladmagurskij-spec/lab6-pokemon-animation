<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Лабораторна робота №6 — Gengar Dark Realm</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #3b0764 0%, #020016 55%, #000 100%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #e5e7eb;
      overflow: hidden;
    }

    .scene {
      position: relative;
      width: 950px;
      max-width: 100%;
      height: 540px;
      border-radius: 18px;
      background: linear-gradient(#020014 0 58%, #020617 58%);
      box-shadow: 0 24px 60px rgba(0,0,0,0.9);
      overflow: hidden;
      border: 2px solid rgba(148,163,184,0.6);
    }

    /* ====== ІНФО-ПАНЕЛЬ (опис лаби) ====== */

    .panel {
      position: absolute;
      inset: 20px 20px auto 20px;
      max-width: 360px;
      background: rgba(15,23,42,0.9);
      border-radius: 14px;
      padding: 16px 18px 14px;
      border: 1px solid rgba(148,163,184,0.5);
      backdrop-filter: blur(8px);
      z-index: 10;
    }

    .panel h1 {
      font-size: 18px;
      margin-bottom: 4px;
    }

    .panel h2 {
      font-size: 15px;
      margin-bottom: 8px;
      color: #a5b4fc;
    }

    .panel p {
      font-size: 12px;
      line-height: 1.5;
      margin-bottom: 4px;
    }

    .panel ul {
      margin-left: 16px;
      font-size: 12px;
      line-height: 1.4;
      margin-bottom: 2px;
    }

    .panel li {
      margin-bottom: 2px;
    }

    .btn {
      margin-top: 8px;
      padding: 5px 14px;
      font-size: 12px;
      border-radius: 999px;
      border: 1px solid #6366f1;
      background: rgba(15,23,42,0.95);
      color: #e5e7eb;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
    }

    .btn:hover {
      background: #4f46e5;
      transform: translateY(-1px);
    }

    .btn:active {
      transform: translateY(1px);
    }

    /* ====== ФОН: ЗІРКИ, МІСЯЦЬ, ТУМАН, БЛИСКАВКИ ====== */

    .stars {
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(1px 1px at 15% 25%, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 75% 35%, rgba(255,255,255,0.7), transparent),
        radial-gradient(1px 1px at 30% 70%, rgba(255,255,255,0.5), transparent),
        radial-gradient(1px 1px at 60% 85%, rgba(255,255,255,0.4), transparent);
      background-size: 240px 240px;
      opacity: 0.7;
      animation: starsShift 40s linear infinite;
    }

    @keyframes starsShift {
      from { transform: translate3d(0,0,0); }
      to   { transform: translate3d(-240px,-240px,0); }
    }

    .moon {
      position: absolute;
      width: 90px;
      height: 90px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #f9fafb, #cbd5f5 60%, #4b5563 100%);
      top: 55px;
      right: 110px;
      box-shadow: 0 0 24px rgba(248,250,252,0.8);
      z-index: 1;
    }

    .fog-back,
    .fog-front {
      position: absolute;
      left: -40%;
      width: 180%;
      height: 190px;
      background: radial-gradient(circle at 50% 0%, rgba(148,163,184,0.4), transparent 65%);
      filter: blur(9px);
      opacity: 0.65;
      z-index: 1;
    }

    .fog-back {
      bottom: 110px;
      animation: fogBack 50s linear infinite;
    }

    .fog-front {
      bottom: 80px;
      animation: fogFront 30s linear infinite;
    }

    @keyframes fogBack {
      from { transform: translateX(0); }
      to   { transform: translateX(35%); }
    }

    @keyframes fogFront {
      from { transform: translateX(0); }
      to   { transform: translateX(-45%); }
    }

    .ground {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 150px;
      background:
        radial-gradient(circle at 10% 0%, rgba(96,165,250,0.12), transparent 60%),
        radial-gradient(circle at 90% 0%, rgba(248,113,113,0.18), transparent 60%),
        linear-gradient(#020617 0, #000 70%);
      box-shadow: inset 0 24px 70px rgba(0,0,0,0.9);
      z-index: 2;
    }

    .hill {
      position: absolute;
      bottom: 75px;
      width: 260px;
      height: 120px;
      background: radial-gradient(circle at 50% 100%, #020617 0, #000 70%);
      border-radius: 50%;
      z-index: 2;
    }

    .hill.left { left: -60px; }
    .hill.right { right: -80px; }

    /* Блискавки */

    .lightning {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 40% 0%, rgba(250,250,250,0.35), transparent 60%),
        radial-gradient(circle at 70% 10%, rgba(244,114,182,0.35), transparent 60%);
      mix-blend-mode: screen;
      opacity: 0;
      pointer-events: none;
      z-index: 4;
      animation: lightningFlash 8s linear infinite;
    }

    @keyframes lightningFlash {
      0%, 70%, 100% { opacity: 0; }
      72% { opacity: 0.45; }
      74% { opacity: 0; }
      76% { opacity: 0.55; }
      78% { opacity: 0; }
    }

    /* ====== ДОДАТКОВІ ПРИВИДИ (HAUNTER / GASTLY) ====== */

    .ghost {
      position: absolute;
      width: 90px;
      height: 90px;
      background-repeat: no-repeat;
      background-size: contain;
      image-rendering: pixelated;
      opacity: 0.0;
      z-index: 3;
      filter: drop-shadow(0 0 10px rgba(147,51,234,0.7));
    }

    .ghost.haunter {
      background-image: url("https://img.pokemondb.net/sprites/emerald/normal/haunter.png");
      top: 170px;
      left: 80px;
      animation: ghostFloatLeft 18s ease-in-out infinite;
    }

    .ghost.gastly {
      background-image: url("https://img.pokemondb.net/sprites/emerald/normal/gastly.png");
      top: 150px;
      right: 80px;
      animation: ghostFloatRight 22s ease-in-out infinite;
    }

    @keyframes ghostFloatLeft {
      0%   { transform: translateY(10px); opacity: 0; }
      10%  { opacity: 0.6; }
      40%  { transform: translate(20px, -10px); opacity: 0.9; }
      60%  { transform: translate(-10px, 0); opacity: 0.7; }
      90%  { opacity: 0; transform: translate(10px, 15px); }
      100% { opacity: 0; }
    }

    @keyframes ghostFloatRight {
      0%   { transform: translateY(5px); opacity: 0; }
      15%  { opacity: 0.7; }
      45%  { transform: translate(-25px, -15px); opacity: 0.95; }
      70%  { transform: translate(10px, 5px); opacity: 0.6; }
      95%  { opacity: 0; transform: translate(-5px, 20px); }
      100% { opacity: 0; }
    }

    /* ====== GENGAR (ГОЛОВНИЙ СПРАЙТ) ====== */

    .gengar-wrap {
      position: absolute;
      bottom: 90px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 4;
      cursor: pointer;
    }

    .gengar-shadow {
      position: absolute;
      bottom: -4px;
      left: 50%;
      width: 100px;
      height: 26px;
      transform: translateX(-50%);
      background: radial-gradient(circle at 50% 50%, rgba(15,23,42,0.9), transparent 70%);
      opacity: 0.9;
      filter: blur(2px);
    }

    .gengar {
      position: relative;
      width: 96px;
      height: 96px;
      background-image: url("https://img.pokemondb.net/sprites/ruby-sapphire/normal/gengar.png");
      background-repeat: no-repeat;
      background-size: contain;
      image-rendering: pixelated;
      animation:
        gengarFloat 3s ease-in-out infinite,
        gengarGlow 4s ease-in-out infinite;
    }

    /* Очі поверх спрайта (блимання) */
    .gengar::before,
    .gengar::after {
      content: "";
      position: absolute;
      top: 32px;
      width: 14px;
      height: 6px;
      background: #fbbf24;
      box-shadow: 0 0 8px rgba(251,191,36,0.9);
      border-radius: 999px;
    }

    .gengar::before {
      left: 26px;
    }

    .gengar::after {
      right: 26px;
    }

    .gengar-eyelids {
      position: absolute;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
    }

    .gengar-eyelids::before,
    .gengar-eyelids::after {
      content: "";
      position: absolute;
      top: 28px;
      width: 18px;
      height: 10px;
      background: #160326;
      border-radius: 999px;
      left: 24px;
      box-shadow: 46px 0 0 #160326; /* друге віко */
      animation: gengarBlink 4s ease-in-out infinite;
    }

    @keyframes gengarBlink {
      0%, 85%, 100% { transform: translateY(-14px); }
      88%, 92%      { transform: translateY(0); }
    }

    @keyframes gengarFloat {
      0%, 100% { transform: translateY(0); }
      50%      { transform: translateY(-10px); }
    }

    @keyframes gengarGlow {
      0%, 100% { filter: drop-shadow(0 0 10px rgba(168,85,247,0.7)); }
      50%      { filter: drop-shadow(0 0 18px rgba(233,213,255,0.9)); }
    }

    /* Стрибок при кліку */
    .gengar-wrap.jump .gengar {
      animation:
        gengarFloat 3s ease-in-out infinite,
        gengarGlow 4s ease-in-out infinite,
        gengarJump 0.5s ease-out;
    }

    .gengar-wrap.jump .gengar-shadow {
      animation: shadowJump 0.5s ease-out;
    }

    @keyframes gengarJump {
      0%   { transform: translateY(0) scale(1); }
      40%  { transform: translateY(-38px) scale(1.07); }
      100% { transform: translateY(0) scale(1); }
    }

    @keyframes shadowJump {
      0%   { transform: translateX(-50%) scale(1); opacity: 0.9; }
      40%  { transform: translateX(-50%) scale(1.1, 0.8); opacity: 0.6; }
      100% { transform: translateX(-50%) scale(1); opacity: 0.9; }
    }

    /* ПАУЗА ДЛЯ ВСІХ АНІМАЦІЙ */

    .paused .stars,
    .paused .fog-back,
    .paused .fog-front,
    .paused .gengar,
    .paused .gengar-shadow,
    .paused .ghost,
    .paused .lightning {
      animation-play-state: paused !important;
    }

    .paused .btn {
      background: #1f2937;
    }

    @media (max-width: 768px) {
      .scene {
        height: 520px;
      }
      .panel {
        inset: 14px 14px auto 14px;
        max-width: none;
      }
    }
  </style>
</head>
<body>

<div class="scene" id="scene">

  <!-- Інфо-панель з описом завдання -->
  <section class="panel">
    <h1>Лабораторна робота №6</h1>
    <h2>Анімація спрайтів Pokémon (Gengar, Haunter, Gastly)</h2>
    <p><strong>Мета:</strong> відпрацювати роботу з CSS-анімаціями, багатошаровим фоном та спрайтами.</p>
    <p><strong>Реалізовано у сцені:</strong></p>
    <ul>
      <li>Анімація основного спрайта Gengar (паріння, підсвічування, блимання очей, стрибок по кліку).</li>
      <li>Додаткові спрайти Haunter та Gastly, що зʼявляються в тумані.</li>
      <li>Двошаровий туман з паралакс-ефектом, зоряне небо, місяць та ефект блискавок.</li>
    </ul>
    <button class="btn" id="pauseBtn">Пауза / Продовжити</button>
  </section>

  <!-- Фон -->
  <div class="stars"></div>
  <div class="moon"></div>
  <div class="fog-back"></div>
  <div class="fog-front"></div>
  <div class="ground"></div>
  <div class="hill left"></div>
  <div class="hill right"></div>
  <div class="lightning"></div>

  <!-- Привиди -->
  <div class="ghost haunter"></div>
  <div class="ghost gastly"></div>

  <!-- GENGAR -->
  <div class="gengar-wrap" id="gengarWrap" title="Натисни, щоб стрибнув">
    <div class="gengar-shadow"></div>
    <div class="gengar">
      <div class="gengar-eyelids"></div>
    </div>
  </div>
</div>

<script>
  const scene = document.getElementById('scene');
  const pauseBtn = document.getElementById('pauseBtn');
  const gengarWrap = document.getElementById('gengarWrap');

  pauseBtn.addEventListener('click', () => {
    scene.classList.toggle('paused');
  });

  gengarWrap.addEventListener('click', () => {
    gengarWrap.classList.add('jump');
    setTimeout(() => gengarWrap.classList.remove('jump'), 500);
  });
</script>

</body>
</html>
